# Kubernetes prerequisites

## Enable IP Forwarding

This ones kind of obvious, IP forwarding needs to be setup.
Create a new file in [/etc/sysctl.d/10-ip-forwarding.conf](../configs/10-ip-forwarding.conf). Run `sysctl --system`

## Disable swap

No need for swap use with kubernetes.
```
swapoff -a
sed -i '/ swap / s/^/#/' /etc/fstab`
```

## Install a container runtime

I've userd containerd, but docker is also fine
`apt install -y containerd; systemctl restart containerd; systemctl enable containerd`

## Enable bridge-nf-call-iptables

```
sysctl net.bridge.bridge-nf-call-iptables
echo "br_netfilter" > /etc/modules-load.d/k8s.conf
modprobe br_netfilter
```

## Validation!

We may as well reboot at this point and make sure it all survives a reboot... I've asked chatGPT to make me a [validation script](../validation/kubernetes_prerequisites.sh). 